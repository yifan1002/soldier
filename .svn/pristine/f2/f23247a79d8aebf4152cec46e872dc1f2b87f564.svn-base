import axios from 'axios';
import store from '@/store';



// 创建axios实例
var instance = axios.create({
});
// 设置post请求头
instance.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
/*
  每次请求前，如果存在token则在请求头中携带token 
 */

instance.interceptors.request.use(
	config => {      
		const token = store.state.token;
		token && (config.headers.Authorization = token);
		return config;
	},
	error => Promise.error(error))


export default instance;
